@model BMSHPMS.GeneralManage.ViewModels.GeneralReceiptVMs.GeneralReceiptVM
@{
    var donorList = Model.Entity.DonorList;
}

<wt:form vm="@Model">
    <wt:row items-per-row="ItemsPerRowEnum.Three">
        <wt:textbox field="Entity.ReceiptNumber" />
        <wt:datetime field="Entity.ReceiptDate" type="Date" />
        <wt:combobox field="Entity.DonationCategory" items="DonationCategorySelectItems" />
        <wt:textbox field="Entity.ContactName" />
        <wt:textbox field="Entity.Phone" />
    </wt:row>
    <wt:row items-per-row="ItemsPerRowEnum.One">
        <wt:textbox field="Entity.GeneralRemark" />
    </wt:row>
    @if (donorList.Count > 0)
    {
        <hr />
        @for (int i = 0; i < donorList.Count; i++)
        {
            <wt:row items-per-row="ItemsPerRowEnum.Six">
                <wt:textbox field="@donorList[i].Name" name="donorList[@i].Name" />
                <wt:textbox field="@donorList[i].Sum" name="donorList[@i].Sum" type="number" />
                <wt:textbox field="@donorList[i].CustomCol1" name="donorList[@i].CustomCol1" />
                <wt:textbox field="@donorList[i].CustomCol2" name="donorList[@i].CustomCol2" />
                <wt:textbox field="@donorList[i].CustomCol3" name="donorList[@i].CustomCol3" />
                <wt:textbox field="@donorList[i].GeneralRemark" name="donorList[@i].GeneralRemark" />
                <wt:hidden field="@donorList[i].ID" name="donorList[@i].ID" />
                <wt:hidden field="@donorList[i].ReceiptId" name="donorList[@i].ReceiptId" />
            </wt:row>
            <hr />
        }
    }
    <wt:hidden field="Entity.ID" />
    <wt:row align="AlignEnum.Right">
        <wt:submitbutton />
        <wt:closebutton />
    </wt:row>
</wt:form>
